
## ------------------------------------------------------------------------
rm(list=ls());


## ------------------------------------------------------------------------
mylocal.path <- "C:/Users/Diego/Documents/GitHub/R-Notes";


## ------------------------------------------------------------------------
setwd(mylocal.path);


## ------------------------------------------------------------------------
# House Keeping -----------------------------------------------------------
rm(mylocal.path)


## ------------------------------------------------------------------------
dataset.url  <- 
       "http://d396qusza40orc.cloudfront.net/rprog%2Fdata%2Fspecdata.zip";


## ------------------------------------------------------------------------
localpath.file <- "./rprog%2Fdata%2Fspecdata.zip";


## ------------------------------------------------------------------------
if(file.exists(localpath.file)==F){
  download.file(dataset.url, localpath.file, mode = "wb");
}


## ------------------------------------------------------------------------
if(file_test("-d", "specdata")==F){
  unzip(localpath.file);
}


## ------------------------------------------------------------------------
# House Keeping -----------------------------------------------------------
rm(list=c("dataset.url","localpath.file"))


## ------------------------------------------------------------------------
dir(); # AKA list.files()


## ------------------------------------------------------------------------
list.dirs();


## ------------------------------------------------------------------------
dir("./specdata");


## ------------------------------------------------------------------------
sessionInfo();


## ------------------------------------------------------------------------
if("sos" %in% rownames(installed.packages()) == F){
  install.packages("sos", repos="http://cran.rstudio.com/");
}


## ------------------------------------------------------------------------
library(sos); # Review the use of the require() function.


## ------------------------------------------------------------------------
cran.help <- findFn("{file extensions}",sortby="MaxScore");


## ----isclass-------------------------------------------------------------
is(cran.help)
class(cran.help)


## ----objectsuper---------------------------------------------------------
is(cran.help, "data.frame")


## ----methClass-----------------------------------------------------------
methods(class="data.frame")


## ------------------------------------------------------------------------
summary(cran.help, minPackages = 20);


## ----summary.findFn,tidy=FALSE-------------------------------------------
?summary.findFn


## ------------------------------------------------------------------------
PackageSummary(cran.help);


## ------------------------------------------------------------------------
expanded.cran.help <- PackageSum2(cran.help);


## ----strsplitsub, tidy=FALSE---------------------------------------------
b <- expanded.cran.help[expanded.cran.help$vignette != "", 1];
d <- strsplit(sub("^[0-9]?\\: ", "",
                  expanded.cran.help[expanded.cran.help$vignette != "", 11],
                  ","),
              ", ");


## ----classobject---------------------------------------------------------
class(b);
class(d);


## ------------------------------------------------------------------------
df <- data.frame(Packages         = character(0),
                 Vignettes        = character(0),
                 stringsAsFactors = F);


## ----mergedf-------------------------------------------------------------
for (i in 1:length(b)){
  df <- rbind(df,
              merge(setNames(as.data.frame(b[i]),"Packages"),
                    setNames(as.data.frame(d[[i]]),"Vignettes")));
};


## ------------------------------------------------------------------------
df;


## ----ToolsEx,eval=TRUE---------------------------------------------------
filtered.results <- cran.help[cran.help$Package=="tools",];


## ------------------------------------------------------------------------
filtered.results;


## ------------------------------------------------------------------------
library(tools);


## ------------------------------------------------------------------------
 file_ext(dir("./specdata"));


## ------------------------------------------------------------------------
unique(file_ext(dir("./specdata")));


## ------------------------------------------------------------------------
rm(list=ls());
gc();


